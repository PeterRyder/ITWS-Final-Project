<!doctype html>
<html lang="en">
<head>
	<meta charset="utf-8">
	<title>SpaceFinder - ITWS Group 6</title>
	<meta name="description" content="">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<link rel="stylesheet" href="http://ajax.googleapis.com/ajax/libs/jqueryui/1.10.4/themes/smoothness/jquery-ui.css" />
    <link rel="stylesheet" href="style.css" type="text/css" charset="utf-8">
	<link rel="stylesheet" href="http://yui.yahooapis.com/pure/0.5.0/pure-min.css">
    <!--[if lte IE 8]>
        <link rel="stylesheet" href="http://yui.yahooapis.com/pure/0.5.0/grids-responsive-old-ie-min.css">
    <![endif]-->
    <!--[if gt IE 8]><!-->
        <link rel="stylesheet" href="http://yui.yahooapis.com/pure/0.5.0/grids-responsive-min.css">
    <!--<![endif]-->
  
	<script src="http://ajax.googleapis.com/ajax/libs/jquery/1.11.1/jquery.min.js"></script>
	<script src="http://ajax.googleapis.com/ajax/libs/jqueryui/1.10.4/jquery-ui.min.js"></script>
	<script type="text/javascript" src="https://maps.googleapis.com/maps/api/js?v=3&key{AIzaSyDx9JMWMisTiwURl7Jg_yNL-sYvtTbyXlc}"></script>
	
	<script>
	
	$(document).ready(function(){
      initialize();
      getLocation();  
	});
	
	// HTML5 Geolocation : Find Current Location
	var current_lat;
	var current_long;
    var amount_checks = 0;
    var latlng;
    var geocoder;
	
	function getLocation() {
		if (navigator.geolocation) {
			navigator.geolocation.watchPosition(currentPosition, handleError, {'enableHighAccuracy': true, 'maximumAge':30000});
		}
		else {$('#msg').html("Your browser does not support geolocation.");}
	}
	
	function handleError(error){
    	switch(error.code)
        {
          case error.PERMISSION_DENIED: $('#msg').html("Geolocation data not shared.");break;  
          case error.POSITION_UNAVAILABLE: $('#msg').html("Could not detect current position.");break;  
          case error.TIMEOUT: $('#msg').html("Retrieving position timed out.");break;  
          default: $('#msg').html("Unknown Error.");break;
        }
	}
	
	function currentPosition(position) {
		current_lat = position.coords.latitude;
		current_long = position.coords.longitude;
		$('#lat').html('Latitude: ' + current_lat);
		$('#long').html('Longitude: ' + current_long);
		$('#msg').html(position.coords.accuracy + " meters of accuracy.");
		codeLatLng();
        amount_checks += 1;
        $('#checks').html('Checks: ' + amount_checks);
	}
	
	// Google Maps API : Show Current Location & Get Info
	
	var infowindow = new google.maps.InfoWindow();
	var current_zip;
	
	function initialize() {
	  geocoder = new google.maps.Geocoder();
	  latlng = new google.maps.LatLng(40.75,-74);
	}
	
	function codeLatLng() {
	  var lat = parseFloat(current_lat);
	  var lng = parseFloat(current_long);
	
	  latlng = new google.maps.LatLng(lat, lng);
	  geocoder.geocode({'latLng': latlng}, function(results, status) {
	    if (status == google.maps.GeocoderStatus.OK) {
	      if (results[1]) {
				$('#name').html(results[1].formatted_address);
				var city = findCity(results[0].address_components);
				var state = findState(results[0].address_components);
				$("#citystate").html(city + ", " + state);
	      } else {
	        $('#msg').html('Google Maps: No results found for current location.');
	      }
	    } else {
	      $('#msg').html('Google Maps Geocoder failed due to: ' + status);
	    }
	  });
	}
	
	function findCity(results) {
		for (var i in results) {
			if (results[i].types[0] == "locality") {
				$("#city").html(results[i].long_name);
				return results[i].long_name;
			}
		}
		return 0;
	}
	
	function findState(results) {
		for (var i in results) {
			if (results[i].types[0] == "administrative_area_level_1") {
				$("#state").html(results[i].short_name);
				return results[i].short_name;
			}
		}
		return 0;
	}
	
	var clientId = '[YOUR CLIENT ID]';
	$(".instagram.tag").instagram({
	hash: 'sport',
	show: 10,
	clientId: clientId
	});
	
	</script>
	
	<style>
	#status {
		background-color: #EEE;
		padding: 0.5em 1em;
	}
	</style>
    <script src="fancy.js"></script>  
</head>

<body>
    
    <div id="sticky-anchor"></div>
    <div id="mainHeader" class="pure-g">
        <div class="pure-u-1 pure-u-md-1-2">
            <h1>SpaceFinder</h1>
        </div>

        <div class="pure-u-1 pure-u-md-1-2">
            <div id="search">
                <input type="text" placeholder="New Destination"/>
                <input type="submit">
            </div>
        </div>
    </div>  
    
	<div id="content" class="pure-u-1">
		<div id="mastHead">
			<h1><span id="citystate"></span></h1>
		</div>
		
		<div id="status" class="pure-g">
			<div class="pure-u-1">
				Status: <span id="msg"></span> <span id="checks"></span>
			</div>
		</div>
		
		<div class="pure-g">
			<div class="pure-u-1 pure-u-sm-1 pure-u-md-1-2 blockObject">
				<div class="blockWrap">
					<div class="block">
						<h2>Basic Information</h2>
						<ul>
							<li>Population: 24,000 (Slightly Low)</li>
							<li>Average Household Income: $200 (Also Slightly low)</li>
						</ul>
					</div>
				</div>
			</div>
			<div class="pure-u-1 pure-u-sm-1 pure-u-md-1-2 blockObject">
				<div class="blockWrap">
					<div class="block">
						<h2>Trulia Data</h2>
						<ul>
							<li>Average Listing Price: $200,000</li>
							<li>More Data Blah blah</li>
						</ul>
					</div>
				</div>
			</div>
			<div class="pure-u-1 pure-u-sm-1 pure-u-md-1-2 blockObject">
				<div class="blockWrap">
					<div class="block" id="instagram">
						<h2>Instagram</h2>
						<ul class="pure-g">
							<div class="pure-u-1 pure-u-sm-1 pure-u-md-1-2">
                                <li><img src="images/Unknown.jpg" class="pure-u-1"></li>
                            </div>
							<div class="pure-u-1 pure-u-sm-1 pure-u-md-1-2">
                                <li><img src="images/Unknown-4.jpg" class="pure-u-1"></li>
                            </div>
							<div class="pure-u-1 pure-u-sm-1 pure-u-md-1-2">
                                <li><img src="images/Unknown-2.jpg" class="pure-u-1"></li>
                            </div>
							<div class="pure-u-1 pure-u-sm-1 pure-u-md-1-2">
                                <li><img src="images/Unknown-3.jpg" class="pure-u-1"></li>
                            </div>
						</ul>
					</div>
				</div>
			</div>
			<div class="pure-u-1 pure-u-sm-1 pure-u-md-1-2 blockObject">
				<div class="blockWrap">
					<div class="block" id="flickr">
						<h2>Flickr</h2>
						<ul class="pure-g">
							<div class="pure-u-1 pure-u-sm-1 pure-u-md-1-2">
                                <li><img src="images/Unknown.jpg" class="pure-u-1"></li>
                            </div>
							<div class="pure-u-1 pure-u-sm-1 pure-u-md-1-2"><li>
                                <img src="images/Unknown-4.jpg" class="pure-u-1"></li>
                            </div>
							<div class="pure-u-1 pure-u-sm-1 pure-u-md-1-2"><li>
                                <img src="images/Unknown-2.jpg" class="pure-u-1"></li>
                            </div>
							<div class="pure-u-1 pure-u-sm-1 pure-u-md-1-2"><li>
                                <img src="images/Unknown-3.jpg" class="pure-u-1"></li>
                            </div>
						</ul>
					</div>
				</div>
			</div>
			<div class="pure-u-1 pure-u-sm-1 pure-u-md-1-2 blockObject">
				<div class="blockWrap">
					<div class="block" id="yelp">
						<h2>Yelp</h2>
						<h3>Best Restaurants</h3>
						<ul>
							<li>Nighthawk's Kitchen</li>
							<li>Flying Chicken</li>
							<li>The Ruck</li>
							<li>Dinosaur's BBQ</li>
							<li>Lucas Confectionary</li>
							<li>Big Apple Pizza</li>
						</ul>
					</div>
				</div>
			</div>
			
		</div>
		
		<footer>
			<h3>&copy; 2014</h3>
		</footer>
		
	</div>
</body>
</html>